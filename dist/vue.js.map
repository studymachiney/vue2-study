{"version":3,"file":"vue.js","sources":["../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/compiler/index.js","../src/init.js","../src/index.js"],"sourcesContent":["// 重写数组中的部分方法\r\n\r\nlet oldArrayProto = Array.prototype\r\n\r\nexport let newArrayProto = Object.create(oldArrayProto)\r\n\r\nlet methods = [\r\n    // 改变原数组的方法\r\n    'push',\r\n    'pop',\r\n    'shift',\r\n    'unshift',\r\n    'sort',\r\n    'splice'\r\n]\r\n\r\nmethods.forEach(method => {\r\n    newArrayProto[method] = function (...args) {\r\n        // 重写数组的方法\r\n        const result = oldArrayProto[method].call(this, ...args) // 内部调用原来的方法 函数劫持 切片编程\r\n\r\n        // 劫持新增的数据\r\n        let inserted\r\n        let ob = this.__ob__\r\n        switch (method) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted = args\r\n                break\r\n            case 'splice':\r\n                inserted = args.slice(2)\r\n            default:\r\n                break\r\n        }\r\n        \r\n        if(inserted) {\r\n            ob.observeArray(inserted)\r\n        }\r\n\r\n        return result\r\n    }\r\n})\r\n","import { newArrayProto } from './array'\r\n\r\nclass Observer {\r\n    constructor(data) {\r\n        // Object.defineProperty只能劫持已经存在的属性(vue2单独为此写了一些api $set $delete)\r\n        Object.defineProperty(data, '__ob__', {\r\n            value: this,\r\n            enumerable: false\r\n        })\r\n        if(Array.isArray(data)) {\r\n            // 重写数组的七个变异方法(可以修改数组本身的)\r\n            data.__proto__ = newArrayProto // 保留原数组特性，并重写部分方法\r\n            this.observeArray(data)\r\n        } else {\r\n            this.walk(data)\r\n        }\r\n    }\r\n\r\n    walk(data) { // 循环对象，对属性依次劫持\r\n        Object.keys(data).forEach(key => defineReactive(data, key, data[key]))\r\n    }\r\n    observeArray(data) { // 观测数组 对属性依次劫持\r\n      data.forEach(item => observe(item))  \r\n    }\r\n}\r\n\r\nexport function defineReactive(target, key, value) {\r\n    observe(value)\r\n    Object.defineProperty(target, key, {\r\n        get() {\r\n            return value\r\n        },\r\n        set(newValue) {\r\n            if (value === newValue) return\r\n            observe(newValue)\r\n            value = newValue\r\n        }\r\n    })\r\n}\r\n\r\nexport function observe(data) {\r\n    // 只对对象进行劫持\r\n    if (typeof data !== 'object' || data === null) {\r\n        return\r\n    }\r\n    if(data.__ob__ instanceof Observer) { // 说明被代理过\r\n        return data.__ob__\r\n    }\r\n    return new Observer(data)\r\n}\r\n","import { observe } from './observe'\r\n\r\nexport function initState(vm) {\r\n    const opts = vm.$options\r\n    if (opts.data) {\r\n        initData(vm)\r\n    }\r\n}\r\n\r\nfunction proxy(vm, target, key) {\r\n    Object.defineProperty(vm, key, {\r\n        get() {\r\n            return vm[target][key]\r\n        },\r\n        set(newValue) {\r\n            vm[target][key] = newValue\r\n        }\r\n    })\r\n}\r\n\r\nfunction initData(vm) {\r\n    let data = vm.$options.data // date可能是函数或者对象\r\n\r\n    data = typeof data === 'function' ? data.call(this) : data\r\n    vm._data = data\r\n\r\n    //对数据进行劫持\r\n    observe(data)\r\n\r\n    for(let key in data) {\r\n        proxy(vm, '_data', key)\r\n    }\r\n   \r\n}\r\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\r\n\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) // 匹配开始标签 <div\r\n\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) //匹配结束标签\r\n\r\nconst attribute =\r\n    /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 匹配属性\r\nconst startTagClose = /^\\s*(\\/?)>/\r\nconst defaultTagRe = /\\{\\{((?:|\\r?\\n)+?)\\}\\}/g // 匹配插值表达式中的值 {{value}}\r\n\r\nexport function compileToFunction(template) {\r\n    // 将template生成ast语法树\r\n    let ast = parseHTML(template)\r\n    // 生成render方法(返回虚拟DOM)\r\n}\r\n\r\nfunction parseHTML(html) {\r\n    console.log(html)\r\n\r\n    while (html) {\r\n        let textEnd = html.indexOf('<')\r\n\r\n        if (textEnd === 0) {\r\n            const startTagMatch = parseStartTag() //获取开始标签的匹配结果\r\n\r\n            if (startTagMatch) {\r\n                start(startTagMatch.tagName, startTagMatch.attrs)\r\n                continue\r\n            }\r\n\r\n            let endTagMatch = html.match(endTag)\r\n            if (endTagMatch) {\r\n                advance(endTagMatch[0].length)\r\n                end(endTagMatch[1],)\r\n                continue\r\n            }\r\n        } else if (textEnd > 0) {\r\n            let text = html.substring(0, textEnd)\r\n            if (text) {\r\n                chars(text)\r\n                advance(textEnd)\r\n            }\r\n        }\r\n    }\r\n    console.log(html)\r\n\r\n    function advance(length) {\r\n        html = html.substring(length)\r\n    }\r\n\r\n    function parseStartTag() {\r\n        const start = html.match(startTagOpen)\r\n        if (start) {\r\n            const match = {\r\n                tagName: start[1],\r\n                attrs: []\r\n            }\r\n            advance(start[0].length)\r\n            let attr, end\r\n            while (\r\n                !(end = html.match(startTagClose)) &&\r\n                (attr = html.match(attribute))\r\n            ) {\r\n                advance(attr[0].length)\r\n                match.attrs.push({\r\n                    name: attr[1],\r\n                    value: attr[3] || attr[4] || attr[5] || true\r\n                })\r\n            }\r\n            if (end) {\r\n                advance(end[0].length)\r\n            }\r\n            return match\r\n        }\r\n        return false // 不是开始标签\r\n    }\r\n\r\n    function start(tag, attrs) {\r\n        console.log(tag, attrs, '开始')\r\n    }\r\n\r\n    function chars(text) {\r\n        console.log(text, '文字')\r\n    }\r\n\r\n    function end(tag) {\r\n        console.log(tag, '结束')\r\n    }\r\n}\r\n","import { initState } from './state'\r\nimport { compileToFunction } from './compiler'\r\n\r\nexport function initMixin(Vue) {\r\n    Vue.prototype._init = function (options) {\r\n        const vm = this\r\n        vm.$options = options\r\n\r\n        // 初始化状态\r\n        initState(vm)\r\n\r\n        if (options.el) {\r\n            vm.$mount(options.el) // 数据挂载\r\n        }\r\n    }\r\n\r\n    Vue.prototype.$mount = function (el) {\r\n        const vm = this\r\n        el = document.querySelector(el)\r\n        let opts = vm.$options\r\n        if (!opts.render) {\r\n            let template\r\n            if (!opts.template && el) {\r\n                template = el.outerHTML\r\n            } else {\r\n                if (el) {\r\n                    template = opts.template\r\n                }\r\n            }\r\n\r\n            if (template) {\r\n                // 对模板进行编译\r\n                const render = compileToFunction(template)\r\n                opts.render = render\r\n            }\r\n        }\r\n\r\n        opts.render //最终获取render方法\r\n    }\r\n}\r\n","import { initMixin } from './init'\r\n\r\nfunction Vue(options) {\r\n    this._init(options)\r\n}\r\n\r\ninitMixin(Vue)\r\n\r\nexport default Vue\r\n"],"names":["oldArrayProto","Array","prototype","newArrayProto","Object","create","methods","forEach","method","args","result","call","inserted","ob","__ob__","slice","observeArray","Observer","data","defineProperty","value","enumerable","isArray","__proto__","walk","keys","key","defineReactive","item","observe","target","get","set","newValue","initState","vm","opts","$options","initData","proxy","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","compileToFunction","template","parseHTML","html","console","log","textEnd","indexOf","startTagMatch","parseStartTag","start","tagName","attrs","endTagMatch","match","advance","length","end","text","substring","chars","attr","push","name","tag","initMixin","Vue","_init","options","el","$mount","document","querySelector","render","outerHTML"],"mappings":"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"}